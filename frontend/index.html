<!DOCTYPE HTML>
<html>
<head>
	<title>Oculus/Arduino</title>
	<meta charset="utf-8">
	<link href="style.css" rel="stylesheet" type="text/css">
	
	<!-- libraries -->
	<script type="text/javascript" src="libraries/three.min.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script type="text/javascript" src="/socket.io/socket.io.js"></script>
	<script type="text/javascript" src="libraries/flyControls.js"></script>
	<script type="text/javascript" src="libraries/oculusRiftEffect.js"></script>
	<script type="text/javascript" src="libraries/OculusBridge.min.js"></script>
	<script type="text/javascript" src="libraries/headTracking.js"></script>

	<!-- application javascript -->
	<script type="text/javascript" src="js/socketio.js"></script>
	<script type="text/javascript" src="js/config.js"></script>
	<script type="text/javascript" src="js/environment.js"></script>
	<script type="text/javascript" src="js/logic.js"></script>
	
	
	
	<!-- <script type="text/javascript" src="js/scripts.js"></script> -->
</head>
<body>

	<!-- <div id="blocker">
		<div id="instructions" >
			<span style="font-size:40px">Click to play</span><br>
			(W, A, S, D = Move, SPACE = Jump, MOUSE = Look around)
		</div>
	</div> -->
	<script id="vs" type="x-shader/x-vertex">
			varying vec2 vUv;

            void main() {

                vUv = uv;

                gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

            }


	</script>

	<script id="fs" type="x-shader/x-vertex">

			uniform sampler2D map;
            uniform vec3 fogColor;
            uniform float fogNear;
            uniform float fogFar;

            varying vec2 vUv;

            void main() {

                float depth = gl_FragCoord.z / gl_FragCoord.w;
                float fogFactor = smoothstep( fogNear, fogFar, depth );
                gl_FragColor = texture2D( map, vUv );
                gl_FragColor.w *= pow( gl_FragCoord.z, 20.0 );
                gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
            }

	</script>
	<!-- get everything up and running-->
	<script type="text/javascript">
		function animate(){
	 
	        Config.render();
	 
	        requestAnimationFrame(function(){
	            animate();
	        });
	      }

		Config.init();
		animate();
	</script>

	
</body>
</html>


